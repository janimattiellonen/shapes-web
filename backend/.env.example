# Disc Identification Configuration

# Encoder type - change this to switch models ('clip' or 'dinov2')
ENCODER_TYPE=clip

# Database configuration
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/disc_identification

# Image storage
UPLOAD_DIR=/app/uploads/discs
MAX_IMAGE_SIZE_MB=10

# Search configuration
DEFAULT_TOP_K=10
MIN_SIMILARITY_THRESHOLD=0.7

# Border detection configuration
# Enable/disable automatic border detection on uploaded images
BORDER_DETECTION_ENABLED=true

# Minimum confidence score (0.0-1.0) to accept detected border
# Lower = more permissive, Higher = more strict
BORDER_CONFIDENCE_THRESHOLD=0.6

# Save cropped images to disk (images with only disc region)
STORE_CROPPED_IMAGES=true

# Store embeddings for both original and cropped images
# true = dual embeddings (more flexible, more storage)
# false = only cropped embedding (less storage, requires good border detection)
ENCODE_BOTH_VERSIONS=true

# Matching configuration
# Prefer cropped embeddings when searching for matches
# Falls back to original embeddings if cropped not available
PREFER_CROPPED_MATCHING=true
